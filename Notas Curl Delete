https://blog.marcnuri.com/curl-delete-request-ejemplos

cURL: ejemplos de DELETE requests
2021-09-29 en Herramientas etiquetado curl / HTTP / Consejo breve por Marc Nuri | Última actualización: 2021-09-29
English version

Ejemplos de cURL HTTP DELETE requests con los comandos que uso más frecuentemente.

Los ejemplos para DELETE son muy parecidos a los que detallo en mis publicaciones explicando cómo hacer peticiones GET en cURL o sobre peticiones HTTP PUT.
HTTP DELETE request

El comando más básico que puedes ejecutar con cURL es una petición HTTP DELETE sin cuerpo.

Para indicarle a cURL que utilice un método DELETE en la petición, podemos emplear la opción de línea de comandos -X, --request. El siguiente comando realizará la petición utilizando el verbo DELETE y mostrará el cuerpo de la respuesta por pantalla:

curl -X DELETE https://blog.marcnuri.com

HTTP DELETE request con datos

Enviar una petición DELETE con cuerpo está desaconsejado y no se recomienda.

    The only reason we didn't forbid sending a body is because that would lead to lazy implementations assuming no body would be sent.
    (La única razón por la que no prohibimos enviar un cuerpo es porque eso daría lugar a implementaciones vagas en las que se asumiese que ningún cuerpo se enviaría.)

No obstante, la acción se prohíbe explícitamente en RFC 7231, y puedes encontrarte casos en los que necesites probarlo desde una perspectiva de cliente consumidor.

    A payload within a DELETE request message has no defined semantics; sending a payload body on a DELETE request might cause some existing implementations to reject the request.
    (Un cuerpo en una petición DELETE no tiene una semántica definida; enviar un cuerpo en una petición DELETE puede causar que algunas implementaciones existentes rechacen la petición.)

Si a pesar de la advertencia necesitas enviar algunos datos en el cuerpo de la petición DELETE, puedes utilizar la opción de línea de comandos -d, --data. Cuándo usas la opción data, cURL envía los datos del mismo modo que lo haría tu navegador cuando rellenas un formulario HTML y presionas sobre el botón enviar. Además, cURL añadirá de forma automática la cabecera Content-Type con el valor application/x-www-form-urlencoded.

curl -X DELETE -d "field=value&tool=curl" https://postman-echo.com/delete

Resumen

Estos son algunos de los ejemplos para cURL de peticiones HTTP DELETE que utilizo a diario. Espero que también puedan ser de utilidad para vosotros.